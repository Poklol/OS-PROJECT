#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘    MATRIX MULTIPLICATION WITH IPC & MULTITHREADING DEMO       â•‘"
echo "â•‘              Group 32 - Operating Systems Assignment           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“‹ PRESS ENTER TO CONTINUE THROUGH THE DEMONSTRATION..."
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    PROGRAM ARCHITECTURE                        â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Our Matrix Multiplication System consists of:"
echo ""
echo "ğŸ—ï¸  COMPONENTS:"
echo "   â€¢ scheduler.c - Main coordinator (round-robin scheduler)"
echo "   â€¢ P1.c (1.out) - Matrix reader & shared memory creator"
echo "   â€¢ P2.c (2.out) - Matrix multiplier using shared memory"
echo ""
echo "âš¡ KEY FEATURES:"
echo "   â€¢ Inter-Process Communication (IPC) via shared memory"
echo "   â€¢ Multi-threading for parallel matrix operations"
echo "   â€¢ Round-robin process scheduling"
echo "   â€¢ Performance measurement and visualization"
echo ""
echo "ğŸ“Š PERFORMANCE DATA:"
echo "   â€¢ Runtime measurements for different thread counts"
echo "   â€¢ Multiple matrix sizes tested (121, 225, 900, 2500)"
echo "   â€¢ CSV logging for analysis"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                     MATRIX INPUT FILES                         â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“ INPUT MATRICES:"
echo "   â€¢ in1.txt - First matrix (10 Ã— 100)"
echo "   â€¢ in2.txt - Second matrix (100 Ã— 100)"
echo ""
echo "Matrix multiplication: (10Ã—100) Ã— (100Ã—100) = (10Ã—100)"
echo ""
echo "Sample data from input files:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
head -2 in1.txt | cut -d' ' -f1-10
echo "   [... more numbers ...]"
echo ""
head -2 in2.txt | cut -d' ' -f1-10  
echo "   [... more numbers ...]"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    EXECUTION DEMONSTRATION                     â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸš€ STARTING MATRIX MULTIPLICATION..."
echo ""
echo "Command: ./scheduler 10 100 100 in1.txt in2.txt out.txt"
echo ""
echo "Parameters:"
echo "   â€¢ 10 = rows of first matrix"
echo "   â€¢ 100 = columns of first matrix / rows of second matrix"  
echo "   â€¢ 100 = columns of second matrix"
echo ""
echo "The scheduler will:"
echo "   1. Create two child processes (P1 and P2)"
echo "   2. Implement round-robin scheduling between them"
echo "   3. P1 reads matrices and creates shared memory"
echo "   4. P2 performs matrix multiplication"
echo "   5. Generate performance logs"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    PERFORMANCE RESULTS                         â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“ˆ P1 PERFORMANCE (Matrix Reading Phase):"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
cat values_P1.csv
echo ""
echo ""
echo "ğŸ“ˆ P2 PERFORMANCE (Matrix Multiplication Phase):"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
cat values_P2.csv
echo ""
echo ""
echo "ğŸ“Š PERFORMANCE ANALYSIS:"
echo "   â€¢ Data format: Runtime(ns), Threads, Matrix_Size"
echo "   â€¢ Tested with 1-10 threads for each matrix size"
echo "   â€¢ Smaller matrices benefit from more threads"
echo "   â€¢ Optimal performance varies by workload size"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    GENERATED GRAPHS                           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“Š VISUALIZATION FILES CREATED:"
echo ""
ls -la *_performance_graph.png
echo ""
echo ""
echo "ğŸ¯ GRAPH FEATURES:"
echo "   â€¢ Runtime vs Thread count for different matrix sizes"
echo "   â€¢ Separate graphs for P1 (reading) and P2 (multiplication)"
echo "   â€¢ Visual representation of threading efficiency"
echo "   â€¢ Easy identification of optimal thread configurations"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    OUTPUT VERIFICATION                        â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âœ¨ FINAL RESULTS:"
echo ""
echo "ğŸ“ Generated files:"
ls -la out.txt values*.csv *_performance_graph.png
echo ""
echo ""
echo "ğŸ” SAMPLE OUTPUT MATRIX (first few elements):"
echo "   Note: Full 10Ã—100 result matrix in out.txt"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    KEY LEARNING POINTS                        â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“ CONCEPTS DEMONSTRATED:"
echo ""
echo "âš¡ INTER-PROCESS COMMUNICATION (IPC):"
echo "   â€¢ Shared memory segments for data exchange"
echo "   â€¢ Synchronization between processes"
echo ""
echo "ğŸ§µ MULTITHREADING:"
echo "   â€¢ Parallel matrix operations"
echo "   â€¢ Thread pool management"
echo "   â€¢ Mutex locking for data protection"
echo ""
echo "â° PROCESS SCHEDULING:"
echo "   â€¢ Round-robin scheduling algorithm"
echo "   â€¢ Time quantum management (2 microseconds)"
echo "   â€¢ Context switching between P1 and P2"
echo ""
echo "ğŸ“Š PERFORMANCE ANALYSIS:"
echo "   â€¢ Runtime measurement and logging"
echo "   â€¢ Thread scaling efficiency"
echo "   â€¢ Data visualization with graphs"
echo ""
echo "ğŸ† ACHIEVEMENTS:"
echo "   â€¢ Successful parallel matrix multiplication"
echo "   â€¢ Demonstrated OS concepts in practice"
echo "   â€¢ Performance optimization through threading"
echo ""
read

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    DEMONSTRATION COMPLETE                     â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ‰ Thank you for watching our Matrix Multiplication System demo!"
echo ""
echo "ğŸ“‹ SUMMARY:"
echo "   âœ… IPC via shared memory implemented"
echo "   âœ… Multi-threading for parallel processing"
echo "   âœ… Round-robin process scheduling"
echo "   âœ… Performance measurement and visualization"
echo "   âœ… Real-world application of OS concepts"
echo ""
echo "ğŸ”— Files generated for review:"
echo "   â€¢ Performance graphs: P1_performance_graph.png, P2_performance_graph.png"
echo "   â€¢ Performance data: values_P1.csv, values_P2.csv"
echo "   â€¢ Source code: scheduler.c, P1.c, P2.c"
echo ""
